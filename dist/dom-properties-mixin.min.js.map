{"version":3,"file":"dom-properties-mixin.min.js","sources":["../node_modules/array-from/polyfill.js","../node_modules/array-from/index.js","../src/index.js"],"sourcesContent":["// Production steps of ECMA-262, Edition 6, 22.1.2.1\n// Reference: http://www.ecma-international.org/ecma-262/6.0/#sec-array.from\nmodule.exports = (function() {\n  var isCallable = function(fn) {\n    return typeof fn === 'function';\n  };\n  var toInteger = function (value) {\n    var number = Number(value);\n    if (isNaN(number)) { return 0; }\n    if (number === 0 || !isFinite(number)) { return number; }\n    return (number > 0 ? 1 : -1) * Math.floor(Math.abs(number));\n  };\n  var maxSafeInteger = Math.pow(2, 53) - 1;\n  var toLength = function (value) {\n    var len = toInteger(value);\n    return Math.min(Math.max(len, 0), maxSafeInteger);\n  };\n  var iteratorProp = function(value) {\n    if(value != null) {\n      if(['string','number','boolean','symbol'].indexOf(typeof value) > -1){\n        return Symbol.iterator;\n      } else if (\n        (typeof Symbol !== 'undefined') &&\n        ('iterator' in Symbol) &&\n        (Symbol.iterator in value)\n      ) {\n        return Symbol.iterator;\n      }\n      // Support \"@@iterator\" placeholder, Gecko 27 to Gecko 35\n      else if ('@@iterator' in value) {\n        return '@@iterator';\n      }\n    }\n  };\n  var getMethod = function(O, P) {\n    // Assert: IsPropertyKey(P) is true.\n    if (O != null && P != null) {\n      // Let func be GetV(O, P).\n      var func = O[P];\n      // ReturnIfAbrupt(func).\n      // If func is either undefined or null, return undefined.\n      if(func == null) {\n        return void 0;\n      }\n      // If IsCallable(func) is false, throw a TypeError exception.\n      if (!isCallable(func)) {\n        throw new TypeError(func + ' is not a function');\n      }\n      return func;\n    }\n  };\n  var iteratorStep = function(iterator) {\n    // Let result be IteratorNext(iterator).\n    // ReturnIfAbrupt(result).\n    var result = iterator.next();\n    // Let done be IteratorComplete(result).\n    // ReturnIfAbrupt(done).\n    var done = Boolean(result.done);\n    // If done is true, return false.\n    if(done) {\n      return false;\n    }\n    // Return result.\n    return result;\n  };\n\n  // The length property of the from method is 1.\n  return function from(items /*, mapFn, thisArg */ ) {\n    'use strict';\n\n    // 1. Let C be the this value.\n    var C = this;\n\n    // 2. If mapfn is undefined, let mapping be false.\n    var mapFn = arguments.length > 1 ? arguments[1] : void 0;\n\n    var T;\n    if (typeof mapFn !== 'undefined') {\n      // 3. else\n      //   a. If IsCallable(mapfn) is false, throw a TypeError exception.\n      if (!isCallable(mapFn)) {\n        throw new TypeError(\n          'Array.from: when provided, the second argument must be a function'\n        );\n      }\n\n      //   b. If thisArg was supplied, let T be thisArg; else let T\n      //      be undefined.\n      if (arguments.length > 2) {\n        T = arguments[2];\n      }\n      //   c. Let mapping be true (implied by mapFn)\n    }\n\n    var A, k;\n\n    // 4. Let usingIterator be GetMethod(items, @@iterator).\n    // 5. ReturnIfAbrupt(usingIterator).\n    var usingIterator = getMethod(items, iteratorProp(items));\n\n    // 6. If usingIterator is not undefined, then\n    if (usingIterator !== void 0) {\n      // a. If IsConstructor(C) is true, then\n      //   i. Let A be the result of calling the [[Construct]]\n      //      internal method of C with an empty argument list.\n      // b. Else,\n      //   i. Let A be the result of the abstract operation ArrayCreate\n      //      with argument 0.\n      // c. ReturnIfAbrupt(A).\n      A = isCallable(C) ? Object(new C()) : [];\n\n      // d. Let iterator be GetIterator(items, usingIterator).\n      var iterator = usingIterator.call(items);\n\n      // e. ReturnIfAbrupt(iterator).\n      if (iterator == null) {\n        throw new TypeError(\n          'Array.from requires an array-like or iterable object'\n        );\n      }\n\n      // f. Let k be 0.\n      k = 0;\n\n      // g. Repeat\n      var next, nextValue;\n      while (true) {\n        // i. Let Pk be ToString(k).\n        // ii. Let next be IteratorStep(iterator).\n        // iii. ReturnIfAbrupt(next).\n        next = iteratorStep(iterator);\n\n        // iv. If next is false, then\n        if (!next) {\n\n          // 1. Let setStatus be Set(A, \"length\", k, true).\n          // 2. ReturnIfAbrupt(setStatus).\n          A.length = k;\n\n          // 3. Return A.\n          return A;\n        }\n        // v. Let nextValue be IteratorValue(next).\n        // vi. ReturnIfAbrupt(nextValue)\n        nextValue = next.value;\n\n        // vii. If mapping is true, then\n        //   1. Let mappedValue be Call(mapfn, T, «nextValue, k»).\n        //   2. If mappedValue is an abrupt completion, return\n        //      IteratorClose(iterator, mappedValue).\n        //   3. Let mappedValue be mappedValue.[[value]].\n        // viii. Else, let mappedValue be nextValue.\n        // ix.  Let defineStatus be the result of\n        //      CreateDataPropertyOrThrow(A, Pk, mappedValue).\n        // x. [TODO] If defineStatus is an abrupt completion, return\n        //    IteratorClose(iterator, defineStatus).\n        if (mapFn) {\n          A[k] = mapFn.call(T, nextValue, k);\n        }\n        else {\n          A[k] = nextValue;\n        }\n        // xi. Increase k by 1.\n        k++;\n      }\n      // 7. Assert: items is not an Iterable so assume it is\n      //    an array-like object.\n    } else {\n\n      // 8. Let arrayLike be ToObject(items).\n      var arrayLike = Object(items);\n\n      // 9. ReturnIfAbrupt(items).\n      if (items == null) {\n        throw new TypeError(\n          'Array.from requires an array-like object - not null or undefined'\n        );\n      }\n\n      // 10. Let len be ToLength(Get(arrayLike, \"length\")).\n      // 11. ReturnIfAbrupt(len).\n      var len = toLength(arrayLike.length);\n\n      // 12. If IsConstructor(C) is true, then\n      //     a. Let A be Construct(C, «len»).\n      // 13. Else\n      //     a. Let A be ArrayCreate(len).\n      // 14. ReturnIfAbrupt(A).\n      A = isCallable(C) ? Object(new C(len)) : new Array(len);\n\n      // 15. Let k be 0.\n      k = 0;\n      // 16. Repeat, while k < len… (also steps a - h)\n      var kValue;\n      while (k < len) {\n        kValue = arrayLike[k];\n        if (mapFn) {\n          A[k] = mapFn.call(T, kValue, k);\n        }\n        else {\n          A[k] = kValue;\n        }\n        k++;\n      }\n      // 17. Let setStatus be Set(A, \"length\", len, true).\n      // 18. ReturnIfAbrupt(setStatus).\n      A.length = len;\n      // 19. Return A.\n    }\n    return A;\n  };\n})();\n","module.exports = (typeof Array.from === 'function' ?\n  Array.from :\n  require('./polyfill')\n);\n","import arrayFrom from 'array-from';\n\nconst props = (()=>{\n    const props = {\n        parent: {\n            get(){ return this.element.parentNode; }\n        },\n        first:{\n            get(){\n                return this.element.firstChild;\n            }\n        },\n        last: {\n            get(){\n                return this.element.lastChild;\n            }\n        },\n        nodeName: {\n            get(){\n                return this.element.nodeName;\n            }\n        },\n        children: {\n            get(){\n                return arrayFrom(this.element.children);\n            },\n            set(children){\n                this.element.innerHTML = '';\n                arrayFrom(children).forEach(child=>{\n                    this.element.appendChild(child);\n                });\n            }\n        },\n        childNodes: {\n            get(){\n                return arrayFrom(this.element.childNodes);\n            }\n        },\n        /*value: {\n            set(value){\n                this.element.value = value;\n            },\n            get(){\n                return this.element.value;\n            }\n        },\n        innerHTML: {\n            set(html){\n                this.element.innerHTML = html;\n            },\n            get(){\n                return this.element.innerHTML;\n            }\n        },*/\n        style: {\n            get(){\n                if(!this._style){\n                    if(Proxy === void 0) return this.element.style;\n                    if(isElement(el)){\n                        this._style = cssProxy(el);\n                    }else if(el === window || el === document){\n                        this._style = cssProxy();\n                    }\n                }\n                return this._style;\n            }\n        },\n    };\n\n    ['value', 'innerHTML']\n    .forEach(prop=>{\n        props[prop] = {\n            get(){\n                return this.element[prop];\n            },\n            set(value){\n                this.element[prop] = value;\n            }\n        };\n    });\n\n    Object.keys(props).forEach(key=>props[key].enumerable = true);\n    return props;\n})();\n\n\nexport function mixin(dest){\n    Object.defineProperties(dest, props);\n    return dest;\n}\n\nexport function mixinDOMProperties(dest){\n    return mix(dest);\n}\n\nexport { props };\n"],"names":["isCallable","fn","toInteger","value","number","Number","isNaN","isFinite","Math","floor","abs","maxSafeInteger","pow","toLength","len","min","max","iteratorProp","indexOf","Symbol","iterator","getMethod","O","P","func","TypeError","iteratorStep","result","next","Boolean","done","items","T","C","this","mapFn","arguments","length","A","k","usingIterator","Object","call","nextValue","arrayLike","Array","kValue","from","require$$0","props","const","parent","get","element","parentNode","first","firstChild","last","lastChild","nodeName","children","arrayFrom","set","innerHTML","forEach","child","appendChild","childNodes","style","_style","Proxy","isElement","el","cssProxy","window","document","prop","keys","key","enumerable","dest","defineProperties","mix"],"mappings":"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"}